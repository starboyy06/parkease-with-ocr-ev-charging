<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš— Park Ease</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš— Park Ease</h1>
            <p id="liveClock">Easy Parking With Smart Slot Allocation.</p>
        </div>

        <div class="main-content">
            <div class="control-panel">
                <div class="section">
                    <h3>ğŸ…¿ï¸ Vehicle Check-in</h3>
                    <div class="form-group">
                        <label for="carNumber">Car Number Plate:</label>
                        <div style="display: flex; gap: 10px;">
                            <input id="carNumber" type="text" placeholder="e.g., MH02FM1234" style="flex: 1;">
                            <button id="scanPlateCheckIn" class="btn" style="padding: 12px; font-size: 16px;">ğŸ“· Scan</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="vehicleType">Vehicle Type:</label>
                        <select id="vehicleType" onchange="updateParkingGrid()">
                            <option value="car">Car - â‚¹60/hour</option>
                            <option value="bike">Bike - â‚¹30/hour</option>
                            <option value="truck">Truck/Bus - â‚¹100/hour</option>
                            <option value="charging">Charging - â‚¹300/hour</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="duration">Expected Duration (hours):</label>
                        <input id="duration" type="number" min="1" value="2">
                    </div>
                    <button class="btn" onclick="checkInVehicle()">ğŸ« Check-in & Get Slot</button>
                    <div id="receiptContainer"></div>
                </div>

                <div class="section search-section">
                    <h3>ğŸ” Find Parked Vehicle</h3>
                    <div class="form-group">
                        <label for="searchCar">Search by Car Number:</label>
                        <input id="searchCar" type="text" placeholder="e.g., MH02FM1234">
                    </div>
                    <button class="btn" onclick="searchVehicle()">Search Vehicle</button>
                    <div id="searchResult"></div>
                </div>

                <div class="section">
                    <h3>ğŸšª Vehicle Check-out</h3>
                    <div class="form-group">
                        <label for="checkoutCar">Car Number Plate:</label>
                        <div style="display: flex; gap: 10px;">
                            <input id="checkoutCar" type="text" placeholder="e.g., MH02FM1234" style="flex: 1;">
                            <button id="scanPlateCheckOut" class="btn" style="padding: 12px; font-size: 16px;">ğŸ“· Scan</button>
                        </div>
                    </div>
                    <button class="btn btn-checkout" onclick="checkOutVehicle()">ğŸš— Check-out Vehicle</button>
                </div>

                <div class="section">
                    <h3>ğŸ”§ System Management</h3>
                    <button class="btn" onclick="printParkingReport()">ğŸ“Š Print Parking Report</button>
                    <button class="btn btn-print-small" onclick="exportParkingData()">ğŸ’¾ Export Data</button>
                    <input type="file" id="importData" accept=".json" onchange="importParkingData(event)" style="display: none;">
                    <button class="btn btn-print-small" onclick="document.getElementById('importData').click()">ğŸ“¥ Import Data</button>
                    <button class="btn btn-print-small" onclick="showAnalytics()">ğŸ“ˆ View Analytics</button>
                    <button class="btn btn-checkout btn-print-small" onclick="resetParkingSystem()">ğŸ—‘ï¸ Reset System</button>
                </div>

                <div class="section">
                    <h3>ğŸ”Œ Electric Vehicle Charging Station</h3>
                    <div class="form-group">
                        <label for="carNumberEV">Car Number Plate:</label>
                        <div style="display: flex; gap: 10px;">
                            <input id="carNumberEV" type="text" placeholder="e.g., MH02FM1234" style="flex: 1;">
                            <button id="scanPlateEV" class="btn" style="padding: 12px; font-size: 16px;">ğŸ“· Scan</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="durationEV">Duration to Charge (hours):</label>
                        <input id="durationEV" type="number" min="1" value="1" oninput="updateChargingCost()">
                    </div>
                    <div class="form-group">
                        <label for="startTimeEV">Start Time:</label>
                        <input id="startTimeEV" type="datetime-local">
                    </div>
                    <p id="chargingCostDisplay">Cost: â‚¹0</p>
                    <button class="btn" onclick="chargeEV()">âš¡ Charge Vehicle</button>
                    <div id="chargingReceiptContainer"></div>
                </div>

                <div class="section">
                    <h3>ğŸ“œ Parking History</h3>
                    <button class="btn" onclick="toggleParkingHistory()">View Parking History</button>
                    <button class="btn btn-print-small" onclick="printParkingHistory()">ğŸ–¨ï¸ Print History</button>
                    <div id="parkingHistoryContainer" style="display: none;"></div>
                </div>
            </div>

            <div class="parking-grid">
                <div class="grid-header">
                    <h3>ğŸ¢ Parking Slots Status</h3>
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-number" id="totalSlots">100</div>
                            <div class="stat-label">Total Slots</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="availableSlots">100</div>
                            <div class="stat-label">Available</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="occupiedSlots">0</div>
                            <div class="stat-label">Occupied</div>
                        </div>
                    </div>
                </div>
                <div class="slots-container" id="slotsContainer"></div>
                <div style="margin-top: 20px;">
                    <span style="color: #27ae60;">ğŸŸ¢ Available</span> &nbsp;&nbsp;&nbsp;
                    <span style="color: #e74c3c;">ğŸ”´ Occupied</span>
                </div>
                <div id="alertContainer"></div>
                <div id="analyticsContainer" style="display: none;"></div>
            </div>
        </div>
    </div>

    <div id="cameraModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1000; display:flex; align-items:center; justify-content:center;">
        <div style="background:white; padding:20px; border-radius:10px; text-align:center;">
            <video id="video" width="320" height="240" autoplay></video><br>
            <button id="capture" class="btn">Capture</button>
            <button id="closeModal" class="btn">Close</button>
        </div>
    </div>

    <script src="https://unpkg.com/tesseract.js@v5.1.1/dist/tesseract.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
